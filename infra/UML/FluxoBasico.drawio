<mxfile host="app.diagrams.net">
  <diagram name="Arquitetura Streamify" id="architecture-diagram">
    <mxGraphModel dx="1000" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Frontend -->
        <mxCell id="frontend" value="Frontend (Nuxt 3)" style="shape=rectangle;fillColor=#D5E8D4;strokeColor=#82B366;" vertex="1" parent="1">
          <mxGeometry x="20" y="40" width="160" height="60" as="geometry"/>
        </mxCell>

        <!-- Backend -->
        <mxCell id="backend" value="Backend (Fastify + Kafka)" style="shape=rectangle;fillColor=#DAE8FC;strokeColor=#6C8EBF;" vertex="1" parent="1">
          <mxGeometry x="220" y="40" width="200" height="60" as="geometry"/>
        </mxCell>

        <!-- PostgreSQL -->
        <mxCell id="postgres" value="PostgreSQL" style="shape=cylinder;fillColor=#FFE6CC;strokeColor=#D79B00;" vertex="1" parent="1">
          <mxGeometry x="480" y="40" width="120" height="60" as="geometry"/>
        </mxCell>

        <!-- Kafka -->
        <mxCell id="kafka" value="Kafka" style="shape=ellipse;fillColor=#F8CECC;strokeColor=#B85450;" vertex="1" parent="1">
          <mxGeometry x="360" y="150" width="100" height="60" as="geometry"/>
        </mxCell>

        <!-- Kafka UI -->
        <mxCell id="kafkaui" value="Kafka UI" style="shape=rectangle;fillColor=#FFF2CC;strokeColor=#D6B656;" vertex="1" parent="1">
          <mxGeometry x="500" y="150" width="100" height="60" as="geometry"/>
        </mxCell>

        <!-- Connections -->
        <mxCell id="fe-be" style="endArrow=block;" edge="1" parent="1" source="frontend" target="backend">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="be-db" style="endArrow=block;" edge="1" parent="1" source="backend" target="postgres">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="be-kafka" style="endArrow=block;" edge="1" parent="1" source="backend" target="kafka">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="kafka-ui-link" style="endArrow=block;dashed=1;" edge="1" parent="1" source="kafka" target="kafkaui">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
